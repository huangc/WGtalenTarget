## General
EMAIL=youremail@indiana.edu
WORK_DIR=/your_home/your_workdir

## Sub-directory for workflow
prereq_DIR=${WORK_DIR}/prereq
doc_DIR=${WORK_DIR}/doc
bin_DIR=${WORK_DIR}/bin
src_DIR=${WORK_DIR}/src
data_DIR=${WORK_DIR}/data
run_DIR=${WORK_DIR}/run
scratch_DIR=${WORK_DIR}/scratch

# REFSEQ is the fasta file for reference genome, retrieved by bin/xgetseq, and located in prereq/. 
# REFSEQ=OsjCHR.fa
REFSEQ=OsjChr10.fa
# REFSEQNAME is the file name for REFSEQ without file extension.
# REFSEQNAME=OsjCHR
REFSEQNAME=OsjChr10
# REFGFF is the gene annotation gff3 file for REFSEQ, retrieved by bin/xgetseq, and located in prereq/.
REFGFF=OsjCHR.gff3

# SAMPLE is a list of sample names. Each sample name should be only one word.
# SAMPLE="YB1 YB2 YB3 YB4 YB5 YB6 YB7 YB8"
SAMPLE="ZHENGSHAN97test ZHENGSHAN97test2"
# denovo_DIR is the directory that stores the denovo-assembled contigs.
denovo_DIR=/N/dc2/projects/brendelgroup/TRegGA/TRegGA_v1/assembly/denovo
# In order for the workflow to parse the contigs correctly, 
# the contig files should be stored and named as ${denovo_DIR}/${SAMPLE}/${SAMPLE}-SOAP/${SAMPLE}-soap.contig
SEQ="soap.contig"
SEQNAME="contig"

## blastn
# Add blast+ directory to the PATH
export PATH=$PATH:/N/dc2/projects/brendelgroup/TRegGA/bin
# export PATH=$PATH:${src_DIR}/blast/ncbi-blast-2.3.0+/bin
# DB_REFDNA is the BlastDB name for reference whole genome.
DB_REFDNA=OsjDNA
# DB_REFSEQ is the BlastDB name for reference targeted region, such as individual chromosome OsjChr10
DB_REFSEQ=OsjChr10
# OUTFMT is the tabular output format for BlastDB query
OUTFMT="6 qseqid sseqid pident length mismatch gapopen qstart qend sstart send evalue bitscore gaps qcovs qcovhsp"
EVALUE="1e-100"
# PERC_IDENTITY=99
NUM_THREADS=4
# GAP_MINNUM=0 #Minimal number of gaps, more than and not including this number.
# GAP_MINSIZE=4 #Minimal size of total gaps, more than and not including this number.
# REWARD=1
# PENALTY=-1
# GAPOPEN=4
# GAPEXTEND=1

## blat
# Add blat directory to the PATH
# export PATH=$PATH:${src_DIR}/blatSuite
PERC_IDENTITY=99
MIN_SCORE=250
GAP_MINNUM=0 #Minimal number of gaps, more than and not including this number.
GAP_MINSIZE=100 #Minimal size of total gaps, more than and not including this number.

## qsub parameters for x1-WGblat job running on Mason 
# The run time for whole genome blat of a typical 3kRGP rice cultivar contigs against reference rice Japonica takes about 90-100 hrs on Mason. Plan carefully for submitting the job. 
# WALLTIME=120
WALLTIME=24
PPN=16
VMEM=40

## TALE-NT2 target finder
# Add target finder to the PATH
export PATH=$PATH:${src_DIR}/tale_nt2/talesf-paired
#  Options:
#    -c|--cupstream        sets the allowed upstream bases; 0 for T only, 1 for C only, 2 for either
#    -d|--dimer            sets types of dimer targets to search for; 0 for both homo and heterodimers, 
#                          1 for heterodimers only, 2 for homodimers only
#    -m|--min              the minimum allowed spacer size; default is 15
#    -n|--numprocs         the number of processors to use; default is 1
#    -o|--outfile          template filename to which output will be written; 
#                          both a tab-delimited file and gff3 file will be produced
#    -x|--max              the maximum allowed spacer size; default is 30
#    -t|--cutoffmult       multiple of best score at which potential sites will be filtered; default is 3.0
TPO_m=15
TPO_x=30
TPO_n=4
TPO_t=3

## PTALEN is a list of paired TALEN RVD sequences to be subject to the Target finder analysis.
# The RVD sequences are defined in PREREQ.sh file
PTALEN="pTALEN_Os11N3 pTALEN_Os8N3"

## Association of pTALEN and deletion sites
# In the result of Blat analysis (psl file), the pairwise sequence alignments are described as connected blocks.
# The gap between blocks are used here to infer the gap derived from pTALEN binding.
# A pTALEN binding site and a deletion site is called associated if the pTALEN site is within 
# ${PTALEN_INDEL} bp from the deletion site.
# |----------------------------------blk1-----------------------------|   |--------blk2--------|   |-----blk3----|
# Good candidate                                           |--ptalen1--| |--ptalen2--|
# Bad candidate    |--ptalen1--| |--ptalen2--|
#                  |<-----PTALEN_LEN-------->||<----PTALEN-INDEL----->|
## PTALEN_LEN and PTALEN_INDEL are parameters to define the association between pTALEN site and deletion site.
# Good candidate gap for pTALEN associated deletion would have small PTALEN_INDEL value.
# PTALEN_LEN: the average size (bp) of paired TALEN binding site from edge to edge and including the spacer.
PTALEN_LEN=60 
# PTALEN_INDEL: the distance (bp) from the near edge of pTALEN to the near edge of deletion site. 
PTALEN_INDEL=100 

